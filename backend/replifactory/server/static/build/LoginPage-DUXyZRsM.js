import{M as u,B as f}from"./MachineNotification-CwrjcHPX.js";import{b as _}from"./vuex.esm-bundler-CuEAE9ua.js";import{a as l,b as a,c as n,q as c,d as t,Y as g,V as m,ad as d,t as b,v as w}from"./index-Cu3QcvOp.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BBkL1TfT.js";import"./index-BWIQLakd.js";import"./index.es-fMuEa2gX.js";const v={name:"LoginPage",components:{MachineNotification:u,BootstrapRouterLink:f},data(){return{email:"",password:"",publicPath:"/"}},computed:{..._("security",["authorized"])},created(){this.authorized&&this.$router.push("/")},methods:{login(){this.$store.dispatch("security/login",{email:this.email,password:this.password}).then(()=>{this.$router.push(this.$route.query.next||"/")}).catch(s=>{s.response.status==400?this.$store.dispatch("notifyWarning",{content:s.response.data.response.errors}):this.$store.dispatch("notifyDanger",{content:s.response.statusText})})}}},x={class:"d-flex align-items-center py-4 h-100"},k={class:"form-signin w-100 m-auto"},P=["src"],B=t("h1",{class:"h3 mb-3 fw-normal"},"Please sign in",-1),M={class:"form-floating"},N=t("label",{for:"floatingInput"},"Email address",-1),V={class:"form-floating"},L=t("label",{for:"floatingPassword"},"Password",-1),C=t("div",{class:"form-check text-start my-3"},[t("input",{id:"flexCheckDefault",class:"form-check-input",type:"checkbox",value:"remember-me",name:"remember_me"}),t("label",{class:"form-check-label",for:"flexCheckDefault"}," Remember me ")],-1),D=t("button",{class:"btn btn-primary w-100 py-2",type:"submit"}," Sign in ",-1),R={class:"mt-3 mb-3 text-body-secondary"},$={key:1,class:"m-auto"},z=t("p",null,"You have already logged in.",-1),E=t("a",{href:"/",class:"btn btn-success"},"Go to home",-1),T=[z,E];function q(s,e,G,I,o,r){const p=l("MachineNotification"),h=l("BootstrapRouterLink");return a(),n("div",x,[c(p),t("main",k,[s.authorized?(a(),n("div",$,T)):(a(),n("form",{key:0,onSubmit:e[2]||(e[2]=g((...i)=>r.login&&r.login(...i),["prevent"]))},[t("img",{class:"mb-4",src:`${o.publicPath}favicon.svg`,alt:"",width:"72",height:"57"},null,8,P),B,t("div",M,[m(t("input",{id:"floatingInput","onUpdate:modelValue":e[0]||(e[0]=i=>o.email=i),type:"email",class:"form-control",placeholder:"Email",name:"email"},null,512),[[d,o.email]]),N]),t("div",V,[m(t("input",{id:"floatingPassword","onUpdate:modelValue":e[1]||(e[1]=i=>o.password=i),type:"password",class:"form-control",placeholder:"Password",name:"password"},null,512),[[d,o.password]]),L]),C,D,t("p",R,[c(h,{to:"/man",class:"text-decoration-none"},{default:b(()=>[w(" Help ")]),_:1})])],32))])])}const F=y(v,[["render",q]]);export{F as default};
//# sourceMappingURL=LoginPage-DUXyZRsM.js.map
